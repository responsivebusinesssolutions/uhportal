<ng-container *ngIf="error">
  <div>{{ error }}</div>
</ng-container>

<!-- TODO: snackBarService -->
<!-- <div *ngIf="success">{{ success }}</div> -->

<div class="login">
  <mat-toolbar>
    <h2>Login</h2>
  </mat-toolbar>
  <mat-card>
    <mat-card-content>
      <form (ngSubmit)="onSubmit()" [formGroup]="loginForm">
        <div class="login__row">
          <mat-form-field>
            <mat-label for="username">Username</mat-label>
            <input formControlName="username" matInput type="text" />
            <mat-error *ngIf="loginForm.hasError('required', 'username')"
              >Username is required</mat-error
            >
          </mat-form-field>
        </div>
        <div class="login__row">
          <mat-form-field>
            <mat-label for="password">Password</mat-label>
            <input formControlName="password" matInput type="password" />
            <mat-error *ngIf="loginForm.hasError('required', 'password')"
              >Password is required</mat-error
            >
          </mat-form-field>
        </div>
        <button
          [disabled]="isLoading"
          class="login__loading-button"
          color="primary"
          mat-raised-button
        >
          <ng-container *ngIf="isLoading">
            <div class="login__loading-spinner">
              <mat-spinner [diameter]="20" color="primary"></mat-spinner>
            </div>
          </ng-container>
          <ng-container *ngIf="!isLoading">
            <span>Login</span>
          </ng-container>
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
