<ng-container *ngIf="error">
  <div>{{ error }}</div>
</ng-container>

<div class="register">
  <mat-toolbar>
    <h2>Register</h2>
  </mat-toolbar>
  <mat-card>
    <mat-card-content>
      <form (ngSubmit)="onSubmit()" [formGroup]="registerForm">
        <div class="register__row">
          <mat-form-field>
            <mat-label for="firstName">First name</mat-label>
            <input formControlName="firstName" matInput type="text" />
            <mat-error *ngIf="registerForm.hasError('required', 'firstName')"
              >First name is required</mat-error
            >
          </mat-form-field>
        </div>
        <div class="register__row">
          <mat-form-field>
            <mat-label for="lastName">Last name</mat-label>
            <input matInput type="text" formControlName="lastName" />
            <mat-error *ngIf="registerForm.hasError('required', 'lastName')"
              >Last name is required</mat-error
            >
          </mat-form-field>
        </div>
        <div class="register__row">
          <mat-form-field>
            <mat-label for="username">Username</mat-label>
            <input formControlName="username" matInput type="text" />
            <mat-error *ngIf="registerForm.hasError('required', 'username')"
              >Username is required</mat-error
            >
          </mat-form-field>
        </div>
        <div class="register__row">
          <mat-form-field>
            <mat-label for="password">Password</mat-label>
            <input formControlName="password" matInput type="password" />
            <mat-error *ngIf="registerForm.hasError('required', 'password')"
              >Password is required</mat-error
            >
          </mat-form-field>
        </div>
        <button
          [disabled]="isLoading"
          class="register__loading-button"
          color="primary"
          mat-raised-button
        >
          <ng-container *ngIf="isLoading">
            <div class="register__loading-spinner">
              <mat-spinner [diameter]="20" color="primary"></mat-spinner>
            </div>
          </ng-container>
          <ng-container *ngIf="!isLoading">
            <span>Register</span>
          </ng-container>
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
